<template>
  <div class="wrap">
  <div class="table-container">
    <table class="table is-bordered">
      <tr id="head-list" class="has-text-centered">
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td>Domingo</td>
        <td></td>
        <td>Domingo</td>
        <td></td>
        <td>Domingo</td>
        <td></td>
        <td>Domingo</td>
        <td></td>
        <td v-if="condFivDom">Domingo</td>
        <td v-if="condFivDom"></td>
      </tr>
      <tr id="head-list" class="has-text-centered">
        <td>
          <input type="checkbox" v-model="edit" class="print_cls"/>
        </td>
        <td class="mat-ret">Matricula</td>
        <td>Colaborador</td>
        <td class="mat-ret">Retorno</td>
        <td><domingo add-weeks="0" ref="d0"></domingo></td>
        <td>folga</td>
        <td><domingo add-weeks="1" ref="d1"></domingo></td>
        <td>folga</td>
        <td><domingo add-weeks="2" ref="d2"></domingo></td>
        <td>folga</td>
        <td><domingo add-weeks="3" ref="d3"></domingo></td>
        <td>folga</td>
        <td v-show="condFivDom"><domingo add-weeks="4" ref="d4"></domingo></td>
        <td v-if="condFivDom">folga</td>
      </tr>
      <tr v-for="colab in banco" :class="{ 'is-selected': colab.edit }">
        <td class="p-0">
            <a
              class="button is-rounded is-success is-small"
              @click="editColab(colab.edit, colab['.key'])"
              v-show="edit"
              ><i class="material-icons">edit</i></a
            >
        </td>
        <td>{{ colab.mat }}</td>
        <td>{{ colab.nome }}</td>
        <td></td>
        <td class="has-text-centered hora">
          <time-entrance
            v-model="d0_hora"
            @input="updateHora0(colab['.key'], $refs.d0.W)"
            v-if="colab.edit"

            :get-value="colab.domingos[$refs.d0.W].hora"
          ></time-entrance>
          <span v-else>{{ colab.domingos[$refs.d0.W].hora }}</span>
        </td>
        <td class="dia has-text-centered">
          <folga
            v-model="d0_folga"
            @input="updateDia0(colab['.key'], $refs.d0.W)"
            v-if="colab.edit"
            :get-value="colab.domingos[$refs.d0.W].dia"
          ></folga><!--seletor de Array modificado-->
          <span v-else>{{ colab.domingos[$refs.d0.W].dia }}</span>
        </td>
        <td class="has-text-centered hora">
          <time-entrance
            v-model="d1_hora"
            @input="updateHora1(colab['.key'], $refs.d1.W)"
            v-if="colab.edit"
            :setor="setor"
            :get-value="colab.domingos[$refs.d1.W].hora"
          ></time-entrance>
          <span v-else>{{ colab.domingos[$refs.d1.W].hora }}</span>
        </td>
        <td class="dia has-text-centered">
          <folga
            v-model="d1_folga"
            @input="updateDia1(colab['.key'], $refs.d1.W)"
            v-if="colab.edit"
            :get-value="colab.domingos[$refs.d1.W].dia"
          ></folga>
          <span v-else>{{ colab.domingos[$refs.d1.W].dia }}</span>
        </td>
        <td class="has-text-centered hora">
          <time-entrance
            v-model="d2_hora"
            @input="updateHora2(colab['.key'], $refs.d2.W)"
            v-if="colab.edit"
            :setor="setor"
            :get-value="colab.domingos[$refs.d2.W].hora"
          ></time-entrance>
          <span v-else>{{ colab.domingos[$refs.d2.W].hora }}</span>
        </td>
        <td class="dia has-text-centered">
          <folga
            v-model="d2_folga"
            @input="updateDia2(colab['.key'], $refs.d2.W)"
            v-if="colab.edit"
            :get-value="colab.domingos[$refs.d2.W].dia"
          ></folga>
          <span v-else>{{ colab.domingos[$refs.d2.W].dia }}</span>
        </td>
        <td class="has-text-centered hora">
          <time-entrance
            v-model="d3_hora"
            @input="updateHora3(colab['.key'], $refs.d3.W)"
            v-if="colab.edit"
            :setor="setor"
            :get-value="colab.domingos[$refs.d3.W].hora"
          ></time-entrance>
          <span v-else>{{ colab.domingos[$refs.d3.W].hora }}</span>
        </td>
        <td class="dia has-text-centered">
          <folga
            v-model="d3_folga"
            @input="updateDia3(colab['.key'], $refs.d3.W)"
            v-if="colab.edit"
            :get-value="colab.domingos[$refs.d3.W].dia"
          ></folga>
          <span v-else>{{ colab.domingos[$refs.d3.W].dia }}</span>
        </td>
        <td class="has-text-centered hora" v-if="condFivDom">
          <time-entrance
            v-model="d4_hora"
            @input="updateHora4(colab['.key'], $refs.d4.W)"
            v-if="colab.edit"
            :setor="setor"
            :get-value="colab.domingos[$refs.d4.W].hora"
          ></time-entrance>
          <span v-else>{{ colab.domingos[$refs.d4.W].hora }}</span>
        </td>
        <td v-if="condFivDom" class="dia has-text-centered">
          <folga
            v-model="d4_folga"
            @input="updateDia4(colab['.key'], $refs.d4.W)"
            v-if="colab.edit"
            :get-value="colab.domingos[$refs.d4.W].dia"
          ></folga>
          <span v-else>{{ colab.domingos[$refs.d4.W].dia }}</span>
        </td>
      </tr>
    </table>
  </div>
  <div class="columns" v-show="banco.length != 0">
  <div class="column">
    <table class="table is-bordered">
      <tr v-for="colab in banco">
        <td>{{colab.nome}}</td>
        <td style="min-width: 300px"></td>
      </tr>
    </table>
  </div>
  <div class="column">
    <h3 class="sign">GerÃªncia</h3>
    <h3 class="sign">Enc. de Setor</h3>
  </div>
</div>
  </div>
</template>
